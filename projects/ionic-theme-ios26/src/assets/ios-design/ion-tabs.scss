@use '../ios-variables';

.ios {
  ion-fab.inner-tab-bar {
    right: calc(16px + var(--ion-safe-area-right, 0px));
    bottom: var(--max-safe-area);
    ion-fab-button {
      &::part(native) {
        @include ios-variables.glass-background;
        color: rgb(var(--system-dark-rgb));
      }
      --background-activated: rgba(var(--system-light-rgb), 0.3);
    }
  }

  ion-tab-bar {
    @include ios-variables.glass-background;
    z-index: 2;

    border-radius: 40px;

    width: calc(100% - 56px - 16px - 16px - 4px - 16px);
    max-width: 400px;
    padding: 2px 2px;
    bottom: var(--max-safe-area);
    left: calc(16px + var(--ion-safe-area-left, 0px));
    position: absolute;
    margin: auto;

    transition: transform 100ms ease-out;
    will-change: transform;
    &:active {
      transform: scale(1.02);
    }

    ion-tab-button {
      & > ion-icon {
        font-size: 30px;
      }
      background: rgba(var(--system-light-rgb), 0);
      height: auto;
      &::part(native) {
        overflow: visible;
      }

      &.tab-selected {
        &::part(native) {
          backdrop-filter: blur(7px);
          background: rgba(var(--system-tab-active-rgb), 0.1);
          transition: background 0.2s ease;
          border-radius: 32px;
        }

        &.ion-activated::part(native) {
          background: rgba(var(--system-shadow-rgb), 0.02);
        }
      }
    }
  }
}
